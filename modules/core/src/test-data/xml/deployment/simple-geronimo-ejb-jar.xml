<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ger="http://geronimo.apache.org/xml/schema/j2ee"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
    http://geronimo.apache.org/xml/schema/1.0/j2ee14/geronimo-ejb-jar.xsd"
    version="2.1">
    <class-space name="geronimo.system:role=ClassSpace,name=Test" parent="geronimo.system:role=ClassSpace,name=System"/>
    <security/>
    <description>This is a test EJB JAR DD for JSR-88 purposes</description>
    <display-name>Test EJB JAR</display-name>
    <module-name>TestEJBModule</module-name>
    <datasource-name>DefaultDS</datasource-name>
    <enterprise-beans>
        <session>
            <description>This is a sample stateless session bean</description>
            <display-name>Stateless Session Bean</display-name>
            <ejb-name>StatelessTest</ejb-name>
            <home>org.apache.geronimo.enterprise.deploy.test.StatelessHome</home>
            <remote>org.apache.geronimo.enterprise.deploy.test.Stateless</remote>
            <ejb-class>org.apache.geronimo.enterprise.deploy.test.StatelessBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>Variable 1</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>OverrideExample</env-entry-value>
            </env-entry>
            <resource-env-ref>
                <resource-env-ref-name>jdbc/StatelessDatabase</resource-env-ref-name>
                <resource-env-ref-type>javax.sql.DataSource</resource-env-ref-type>
                <ger:jndi-name>java:jdbc/MyDatabase</ger:jndi-name>
            </resource-env-ref>
        </session>
        <session>
            <description>This is a sample stateful session bean</description>
            <display-name>Stateful Session Bean</display-name>
            <ejb-name>StatefulTest</ejb-name>
            <home>org.apache.geronimo.enterprise.deploy.test.StatefulHome</home>
            <remote>org.apache.geronimo.enterprise.deploy.test.Stateful</remote>
            <ejb-class>org.apache.geronimo.enterprise.deploy.test.StatefulBean</ejb-class>
            <session-type>Stateful</session-type>
            <transaction-type>Container</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/MyStateless</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>org.apache.geronimo.enterprise.deploy.test.StatelessHome</home>
                <remote>org.apache.geronimo.enterprise.deploy.test.Stateless</remote>
                <ejb-link>Stateless</ejb-link>
            </ejb-ref>
            <resource-env-ref>
                <resource-env-ref-name>jdbc/StatefulDatabase</resource-env-ref-name>
                <resource-env-ref-type>javax.sql.DataSource</resource-env-ref-type>
                <ger:jndi-name></ger:jndi-name>
            </resource-env-ref>
        </session>
        <message-driven>
            <description>This is a sample message-driven bean</description>
            <display-name>Message Driven Bean</display-name>
            <ejb-name>MessageDrivenTest</ejb-name>
            <ejb-class>org.apache.geronimo.enterprise.deploy.test.MessageBean</ejb-class>
            <messaging-type>org.apache.geronimo.enterprise.deploy.test.MessageBeanIntf</messaging-type>
            <transaction-type>Container</transaction-type>
            <message-destination-type>
                javax.jms.Queue
            </message-destination-type>
            <!--message-destination-link></message-destination-link-->
            <activation-config>
                <resource-adapter-name>TestInboundAdapter</resource-adapter-name>
                <activation-spec-class>org.apache.geronimo.connector.TestActivationSpec</activation-spec-class>
                <activation-config-property>
                    <activation-config-property-name>StringProp</activation-config-property-name>
                    <activation-config-property-value>some value</activation-config-property-value>
                </activation-config-property>
            </activation-config>
            <ejb-ref>
                <ejb-ref-name>ejb/MyStateless</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>org.apache.geronimo.enterprise.deploy.test.StatelessHome</home>
                <remote>org.apache.geronimo.enterprise.deploy.test.Stateless</remote>
                <ejb-link>Stateless</ejb-link>
            </ejb-ref>
            <resource-env-ref>
                <resource-env-ref-name>jdbc/StatefulDatabase</resource-env-ref-name>
                <resource-env-ref-type>javax.sql.DataSource</resource-env-ref-type>
                <ger:jndi-name></ger:jndi-name>
            </resource-env-ref>
        </message-driven>
        <entity>
            <description>Sample CMP entity</description>
            <display-name>CMP Entity Bean</display-name>
            <ejb-name>CMPTest</ejb-name>
            <home>org.apache.geronimo.enterprise.deploy.test.CMPEntityHome</home>
            <remote>org.apache.geronimo.enterprise.deploy.test.CMPEntity</remote>
            <local-home>org.apache.geronimo.enterprise.deploy.test.LocalCMPEntityHome</local-home>
            <local>org.apache.geronimo.enterprise.deploy.test.LocalCMPEntity</local>
            <ejb-class>org.apache.geronimo.enterprise.deploy.test.CMPEntityEJB</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <!--environment refs group-->
            <!--security-role-refs-->
            <!--security-identity-->
            <query>
                <description>query example</description>
                <query-method>
                    <method-name>doSomething</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <result-type-mapping>Local</result-type-mapping>
                <ejb-ql>look for something</ejb-ql>
                <sql>select something from somewhere</sql>
                <input-binding>
                    <binding type="org.openejb.nova.persistence.binding.jdbc.StringBinding" param="0"/>
                    <binding type="org.openejb.nova.persistence.binding.jdbc.IntBinding" param="1"/>
                </input-binding>
                <output-binding abstract-schema-name="OtherThingy" multiplicity="Many">
                    <binding type="org.openejb.nova.persistence.binding.jdbc.StringBinding" param="0"/>
                </output-binding>

            </query>
            <update>
                <description>query example</description>
                <query-method>
                    <method-name>doSomething</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <result-type-mapping>Local</result-type-mapping>
                <ejb-ql>look for something</ejb-ql>
                <sql>select something from somewhere</sql>
                <input-binding>
                    <binding type="org.openejb.nova.persistence.binding.jdbc.StringBinding" param="0"/>
                    <binding type="org.openejb.nova.persistence.binding.jdbc.IntBinding" param="1"/>
                </input-binding>
                <output-binding abstract-schema-name="OtherThingy" multiplicity="Many">
                    <binding type="org.openejb.nova.persistence.binding.jdbc.StringBinding" param="0"/>
                </output-binding>

            </update>
        </entity>
    </enterprise-beans>
</ejb-jar>
